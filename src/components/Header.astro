---
import logo from "../assets/NuevoLogo.png";

let currentPath = Astro.url.pathname.replace(/\/$/, "");
if (currentPath === "") currentPath = "/";
---

<header
    class="h-[75px] bg-gradient-to-r from-[#0D3D5C] to-[#247CB5] flex items-center justify-between px-6 md:px-20 relative z-30"
>
    <!-- LOGO -->
    <div class="flex items-center gap-3 h-[50px]">
        <img
            src={logo.src}
            alt="Logo"
            class="h-full w-full drop-shadow-[0_0_4px_white]"
        />
    </div>

    <!-- BOTÓN HAMBURGUESA (MÓVIL) -->
    <button
        id="menuBtn"
        class="flex flex-col gap-1.5 md:hidden z-50"
        aria-label="Toggle Menu"
    >
        <span class="w-7 h-[3px] bg-white transition-all"></span>
        <span class="w-7 h-[3px] bg-white transition-all"></span>
        <span class="w-7 h-[3px] bg-white transition-all"></span>
    </button>

    <!-- NAV -->
    <nav
        id="menu"
        class="flex flex-col md:flex-row hidden md:static absolute top-[75px] left-0 w-full md:w-auto
         bg-[#0D3D5C] md:bg-transparent shadow-md md:shadow-none z-40"
    >
        <ul
            class="flex flex-col md:flex-row gap-8 md:gap-11 text-white font-semibold p-6 md:p-0"
        >
            <li>
                <a
                    href="/"
                    class={`px-3 py-1 rounded-lg transition-all duration-200 hover:bg-white/10 hover:drop-shadow-[0_0_6px_rgba(255,255,255,0.6)] ${
                        currentPath === "/" ? "underline font-bold" : ""
                    }`}>Inicio</a
                >
            </li>

            <li>
                <a
                    href="/servicios"
                    class={`px-3 py-1 rounded-lg transition-all duration-200 hover:bg-white/10 hover:drop-shadow-[0_0_6px_rgba(255,255,255,0.6)] ${
                        currentPath === "/servicios"
                            ? "underline font-bold"
                            : ""
                    }`}>Servicios</a
                >
            </li>

            <li>
                <a
                    href="/contacto"
                    class={`px-3 py-1 rounded-lg transition-all duration-200 hover:bg-white/10 hover:drop-shadow-[0_0_6px_rgba(255,255,255,0.6)] ${
                        currentPath === "/contacto" ? "underline font-bold" : ""
                    }`}>Contacto</a
                >
            </li>
        </ul>
    </nav>
</header>

<script>
    const btn = document.getElementById("menuBtn");
    const menu = document.getElementById("menu");

    btn.addEventListener("click", () => {
        menu.classList.toggle("hidden");

        const lines = btn.querySelectorAll("span");
        lines[0].classList.toggle("rotate-45");
        lines[0].classList.toggle("translate-y-[8px]");
        lines[1].classList.toggle("opacity-0");
        lines[2].classList.toggle("-rotate-45");
        lines[2].classList.toggle("-translate-y-[8px]");
    });
</script>
